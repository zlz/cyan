!function(t){function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var e={};r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=22)}([function(t,r,e){"use strict";angular.module("app").directive("bdj",function(){return{restrict:"EA",replace:!0,scope:{},templateUrl:"../../tpls/bdj.htm",controller:["$rootScope","$scope","bridge","crud",function(t,r,e,o){var n=e.GLOBAL_CONFIG.path;r.getWeather=function(){o.$http({method:"GET",url:n+"sho/255-1?page=&showapi_appid=33446&title=&type=&showapi_sign=d3f5fd95469849eb859a84e27023fa00&lang="+t.rootComm.trans,cache:e.lruCache("bdj",10)}).then(function(t){t&&(r.data=t.data.showapi_res_body.pagebean)})},r.getWeather()}]}})},function(t,r,e){"use strict";angular.module("app").directive("formList",function(){return{restrict:"EA",replace:!0,templateUrl:"../../tpls/formList.htm",controller:["$rootScope","$scope","bridge","crud",function(t,r,e,o){var n=e.GLOBAL_CONFIG.path;r.getFormList=function(){o.$http({method:"GET",url:n+"web/form"}).then(function(t){t&&(r.data=t.data.data)})},r.getFormList(),r.$on("newMsg",function(){r.data.unshift(JSON.parse(JSON.stringify(r.formData)))})}]}})},function(t,r,e){"use strict";angular.module("app").directive("ft",function(){return{restrict:"EA",replace:!0,scope:{data:"="},templateUrl:"../../tpls/ft.htm"}})},function(t,r,e){"use strict";angular.module("app").directive("hd",function(){return{restrict:"EA",replace:!0,scope:{data:"="},templateUrl:"../../tpls/hd.htm",link:function(t){t.menuFn=function(){$(window).width()<992&&(t.menuBool=!t.menuBool,t.menuBool&&navigator.userAgent.indexOf("Android")>-1?$(document).find("video").hide():$(document).find("video").show())}}}})},function(t,r,e){"use strict";angular.module("app").directive("list",function(){return{restrict:"EA",replace:!0,scope:{data:"="},templateUrl:"../../tpls/list.htm"}})},function(t,r,e){"use strict";angular.module("app").directive("weather",function(){return{restrict:"EA",replace:!0,scope:{},templateUrl:"../../tpls/weather.htm",controller:["$rootScope","$scope","bridge","crud",function(t,r,e,o){var n=e.GLOBAL_CONFIG.path;r.getWeather=function(){o.$http({method:"GET",url:n+"sho/9-6?area="+encodeURIComponent("杭州")+"&need3HourForcast=0&needAlarm=0&needHourData=0&needIndex=0&needMoreDay=0&showapi_appid=33446&spotId=&showapi_sign=d3f5fd95469849eb859a84e27023fa00&lang="+t.rootComm.trans,cache:e.lruCache("weather",10)}).then(function(t){t&&(r.data=t.data.showapi_res_body)})},r.getWeather()}]}})},function(t,r,e){"use strict";angular.module("app").filter("trustHtml",["$sce",function(t){return function(r){return t.trustAsHtml(r)}}])},function(t,r,e){"use strict";angular.module("app").factory("appInterceptor",["$q",function(t){return{request:function(r){return t.when(r)},response:function(r){return t.when(r)},requestError:function(r){return t.when(r)},responseError:function(r){return t.when(r)}}}])},function(t,r,e){"use strict";angular.module("app").provider("bridge",function(){var t=this;this.$get=function(){return t},this.store=function(){for(var r=arguments.length,e=Array(r),o=0;o<r;o++)e[o]=arguments[o];t[e[0]]=e[1]}})},function(t,r,e){"use strict";angular.module("app").provider("crud",function(){var t=this,r=void 0,e=void 0;this.cancel=function(){},this.$http=function(o){var n=e.defer();return r({method:o.method,url:o.url,data:o.data,params:o.params,jsonpCallbackParam:o.jsonpCallbackParam||"callback",responseType:o.responseType,cache:o.cache,timeout:o.timeout}).then(function(t){t&&-1!==t.status?n.resolve(t):n.resolve(!1)},function(t){n.rejecct(t)}),t.cancel=function(){return n.resolve(!1)},n.promise},this.$get=["$http","$resource","$q",function(o,n,a){return r=o,t.$resource=n,e=a,this}]})},function(t,r,e){"use strict";angular.module("app").constant("GLOBAL_CONFIG",{path:"api/"})},function(t,r,e){"use strict";angular.module("app").service("lruCache",["$cacheFactory",function(t){var r=this;return function(){return r["lruCache-"+(arguments.length<=0?void 0:arguments[0])]||(r["lruCache-"+(arguments.length<=0?void 0:arguments[0])]={cache:t("lruCache-"+(arguments.length<=0?void 0:arguments[0])),count:arguments.length<=1?void 0:arguments[1]}),0===r["lruCache-"+(arguments.length<=0?void 0:arguments[0])].count&&(r["lruCache-"+(arguments.length<=0?void 0:arguments[0])].cache.removeAll(),r["lruCache-"+(arguments.length<=0?void 0:arguments[0])].count=arguments.length<=1?void 0:arguments[1]),r["lruCache-"+(arguments.length<=0?void 0:arguments[0])].count=r["lruCache-"+(arguments.length<=0?void 0:arguments[0])].count-1,r["lruCache-"+(arguments.length<=0?void 0:arguments[0])].cache}}])},function(t,r,e){"use strict";angular.module("app").factory("trans",["$rootScope","$q","$urlRouter","bridge","crud",function(t,r,e,o,n){return function(r){n.$http({method:"GET",url:o.GLOBAL_CONFIG.path+"web/common?lang="+r,cache:!0}).then(function(r){r&&(t.rootComm.dt=r.data.data)},function(t){console.log(t)})}}])},,,,,,,,,,function(t,r,e){"use strict";var o=angular.module("app",["ui.router","ngResource","ui.bootstrap","ngAnimate","ngTouch","oc.lazyLoad"]);e(3),e(2),e(4),e(1),e(5),e(0),e(10),e(9),e(8),e(7),e(12),e(11),e(6),o.config(["$stateProvider","$urlRouterProvider","$sceDelegateProvider","$httpProvider","bridgeProvider","GLOBAL_CONFIG",function(t,r,e,o,n,a){r.deferIntercept(!1),n.store("$stateProvider",t),n.store("$urlRouterProvider",r),n.store("GLOBAL_CONFIG",a),e.resourceUrlWhitelist(["self",""]),o.interceptors.push("appInterceptor"),o.defaults.headers.common["Cache-Control"]="no-cache",o.defaults.headers.common["X-Requested-By"]="cyan"}]).run(["$rootScope","$injector","$urlRouter","$state","$stateParams","$q","$ocLazyLoad","lruCache","$cacheFactory","crud","bridge","trans",function(t,r,e,o,n,a,c,u,s,i,l,m){l.store("$state",o),l.store("$stateParams",n),l.store("$cacheFactory",s),l.store("$ocLazyLoad",c),l.store("lruCache",u),t.rootComm={transFn:function(){"中"===t.rootComm.transFlag?(t.rootComm.transFlag="EN",t.rootComm.trans="en"):"EN"===t.rootComm.transFlag?(t.rootComm.transFlag="日",t.rootComm.trans="ja"):"日"===t.rootComm.transFlag?(t.rootComm.transFlag="FR",t.rootComm.trans="fr"):"FR"===t.rootComm.transFlag&&(t.rootComm.transFlag="中",t.rootComm.trans="zh-cn"),localStorage.setItem("trans",t.rootComm.trans),m(t.rootComm.trans)}};var d=localStorage.getItem("trans"),h=(navigator.language||navigator.browserLanguage).toLowerCase(),p=function(r){switch(t.rootComm.trans=r,r){case"zh-cn":t.rootComm.transFlag="中";break;case"cn":t.rootComm.trans="zh-cn",localStorage.setItem("trans","zh-cn"),t.rootComm.transFlag="中";break;case"en":t.rootComm.transFlag="EN";break;case"ja":t.rootComm.transFlag="日";break;case"jp":t.rootComm.trans="ja",localStorage.setItem("trans","ja"),t.rootComm.transFlag="日";break;case"fr":t.rootComm.transFlag="FR";break;default:t.rootComm.transFlag="中",t.rootComm.trans="zh-cn",localStorage.setItem("trans","zh-cn")}};d?p(d):h?p(h):(t.rootComm.trans="zh-cn",t.rootComm.transFlag="中"),m(t.rootComm.trans),t.$watch("rootComm.dt",function(){t.rootComm.dt&&void 0===t.rootComm.routeFlag&&(t.rootComm.routeFlag=!0,t.rootComm.dt.nav.forEach(function(t){l.$stateProvider.state({name:t.href,title:t.text,cache:!0,url:"/"+t.href,templateUrl:"./tpls/"+t.href+".htm",controller:t.href+"Ctrl",controllerAs:t.href+"ctrl",resolve:{loadMod:["$ocLazyLoad",function(r){return r.load("./scripts/controllers/"+t.href+".min.js")}]}})}),l.$urlRouterProvider.when("","/home"),l.$urlRouterProvider.otherwise("/404"),e.sync())})}]).controller("appCtrl",["$rootScope","$scope","bridge",function(t,r,e){var o=function(){$("html,body").animate({scrollTop:0},500)};r.$on("$stateChangeStart",function(r,e){t.title=".Beta Mach. "+e.title,o()}),$("body").find('a[title="站长统计"]').addClass("hide")}])}]);